config:
  target: "http://localhost:3000"
  phases:
    - duration: 60
      arrivalRate: 5
      name: Warm up
    - duration: 60
      arrivalRate: 5
      rampTo: 500
      name: Ramp up load
    - duration: 10 # how long the test runs for
      arrivalRate: 500 # how many requests per second
      name: Heavy # name of the phase
  processor: "./processor.js" # import a javascript function

scenarios:
  - name: "get review"
    flow:
      - get:
          beforeRequest: randomProductId # we're goin to run this imported js function before each request
          url: "/reviews" # GET /reviews
          qs: # query string
            product_id: "{{ productId }}" # product_id=productId
